% AresPackages section...
\startsection{AresPackages}

\startsubsection{Purpose}

The AresEngine uses a custom game archive format built using EBML, an extensible language akin to XML, but tailored to handling binary data. The Matroska multimedia container is its most prominent client.

You might be wondering why a game engine requires its media to be delivered to it in a custom archive format, as opposed to being exposed "naked" directly through the platform's native file system. There are a number of benefits to using a custom archive format, as well as EMBL specifically.
@sp 1

\startitemize
\item
The EMBL format enables extendability for future format changes.

\item
It can be easier to distribute a few files containing many, than many to the end user.

\item
As a single file (*.AresPackage), file seek, open, and load times are reduced.

\item
Providing a layer of abstraction between the actual raw data and the client that requires it allows us to decompress compressed data on the fly. This results in a smaller file, which means a faster disk to RAM transfer. Remember that the disk is slow, while the CPU is much faster.
\stopitemize

\startsubsection{Usage}
The {\sl ares-package} tool takes a package manifest file (XML) describing the contents of the package to output. The tool archives the requested files, along with whatever settings that may be required, and outputs the package.

\startsubsection{Design}
A package manifest is checked against an XML schema (AresPackage.xsd) to verify it is syntactically correct. AresSamplePackage.xml is a sample package. The following diagram is a graphical representation of the schema.
\page
\placefigure
    [][fig:AresPackageManifestSchema]
    {The AresPackage manifest schema.}
    {\externalfigure[AresPackage/Schema]}

